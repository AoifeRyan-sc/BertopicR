<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Update Topic Representations — bt_update_topics • BertopicR</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Update Topic Representations — bt_update_topics"><meta property="og:description" content="Updates topics and their representations to be based on the document-topic
classification described in the list of new_topics. As when initiating the model
with bt_compile_model, if you want to manipulate the topic representations you
must use a vectoriser/ctfidf model, these can be the same as those used in
bt_compile_model.
NOTE: The bertopic model you are working with is a pointer to a python object
at a point in memory. This means that the input and the output model cannot be
differentiated between without explicitly saving the model before performing
this operation. We do not need to specify an output to the bt_fit_model function
as the function changes the input model in place. If you do decide to explicitly assign a function output,
be aware that the output model and the input model will be the same as one another."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">BertopicR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/AoifeRyan-sc/BertopicR" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Update Topic Representations</h1>
    <small class="dont-index">Source: <a href="https://github.com/AoifeRyan-sc/BertopicR/tree/review_updates_12sep2023/R/modify_topics.R" class="external-link"><code>R/modify_topics.R</code></a></small>
    <div class="hidden name"><code>bt_update_topics.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Updates topics and their representations to be based on the document-topic
classification described in the list of new_topics. As when initiating the model
with bt_compile_model, if you want to manipulate the topic representations you
must use a vectoriser/ctfidf model, these can be the same as those used in
bt_compile_model.</p>
<p>NOTE: The bertopic model you are working with is a pointer to a python object
at a point in memory. This means that the input and the output model cannot be
differentiated between without explicitly saving the model before performing
this operation. We do not need to specify an output to the bt_fit_model function
as the function changes the input model in place. If you do decide to explicitly assign a function output,
be aware that the output model and the input model will be the same as one another.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">bt_update_topics</span><span class="op">(</span></span>
<span>  <span class="va">fitted_model</span>,</span>
<span>  <span class="va">documents</span>,</span>
<span>  new_topics <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  representation_model <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  vectoriser_model <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ctfidf_model <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>fitted_model</dt>
<dd><p>Output of bt_fit_model() or another bertopic topic model. The model must have been fitted to data.</p></dd>


<dt>documents</dt>
<dd><p>documents to which the model was fit</p></dd>


<dt>new_topics</dt>
<dd><p>Topics to update model with</p></dd>


<dt>representation_model</dt>
<dd><p>model for updating topic representations</p></dd>


<dt>vectoriser_model</dt>
<dd><p>Model for vectorising input for topic representations (Python object)</p></dd>


<dt>ctfidf_model</dt>
<dd><p>Model for performing class-based tf-idf (ctf-idf) (Python object)</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>the updated model</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>NOTE: If using this function to update outlier topics, it may lead to errors
if topic reduction or topic merging techniques are used afterwards. The reason
for this is that when you assign a -1 document to topic 1 and another -1 document
to topic 2, it is unclear how you map the -1 documents. Is it matched to topic 1 or 2.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="co"># update model with new topic distribution</span></span></span>
<span class="r-in"><span><span class="co"># reduce outliers</span></span></span>
<span class="r-in"><span><span class="va">outliers</span> <span class="op">&lt;-</span> <span class="fu"><a href="bt_outliers_ctfidf.html">bt_outliers_ctfidf</a></span><span class="op">(</span>fitted_model <span class="op">=</span> <span class="va">topic_model</span>, documents <span class="op">=</span> <span class="va">docs</span>, threshold <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># update the model with the new topic distribution</span></span></span>
<span class="r-in"><span><span class="fu">bt_update_topics</span><span class="op">(</span>fitted_model <span class="op">=</span> <span class="va">topic_model</span>, documents <span class="op">=</span> <span class="va">docs</span>, new_topics <span class="op">=</span> <span class="va">outliers</span><span class="op">$</span><span class="va">new_topics</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># update topic representation</span></span></span>
<span class="r-in"><span><span class="fu">bt_update_topics</span><span class="op">(</span>fitted_model <span class="op">=</span> <span class="va">topic_model</span>, documents <span class="op">=</span> <span class="va">docs</span>, vectoriser_model <span class="op">=</span> <span class="va">update_vec_model</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Jack Penzer, Aoife Ryan.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

